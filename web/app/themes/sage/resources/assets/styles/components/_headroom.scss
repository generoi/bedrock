/**
 * Sticky header when scrolling up.
 *
 * @example
 * <header class="l-header headroom">
 *   ...
 * </header>
 * <div class="l-content-wrapper"></div>

 * @see http://wicky.nillia.ms/headroom.js/
 * @see asset/scripts/components/headroom.js
 */

$c-admin-bar-breakpoint: 783px !default;

.headroom {
  // Headroom.js fixed positioned header.
  position: fixed;
  z-index: 10;
  right: 0;
  left: 0;
  top: 0;
  transition: all 0.5s ease 0s;
  // Animatable offset for when headroom triggers the open
  transform: translateY(0);
  // Animatable height for when toggler triggers the open
  min-height: 0;

  &--unpinned {
    transform: translateY(-100%);
  }

  // When toggler opens the menu, force headroom to be open and fill the entire
  // viewport height.
  &.active {
    transform: translateY(0);
    min-height: 100%;
  }

  // Admin bar support
  @include admin-bar() {
    top: $-admin-bar-height;
  }

  // Offset the content by the hardcoded header height. Useful to avoid a
  // reflow as JS calculates and sets this as well.
  @if variable-exists(c-header-sizes) {
    & + div {
      @each $size, $height in $c-header-sizes {
        @include breakpoint($size) {
          margin-top: $height;
        }
      }
    }
  }
}
